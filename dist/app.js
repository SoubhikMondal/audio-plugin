!function(s){"use strict";s.fn.mheAudio=function(){var t=this;return this.el=s(this.selector),this.playPause=s(this.selector+" .playPause"),this.muteUnmute=s(this.selector+" .muteUnmute"),this.scrobbler=s(this.selector+" .scrobbler"),this.volume=s(this.selector+" .volume"),this.isMuted=!1,this.isPlaying=!1,this.audioURL=s(this.selector).data("audiourl"),this.song=new Audio(this.audioURL),this.song.type="audio/mpeg",this.song.src=this.audioURL,s(this.scrobbler).attr("max",this.song.duration),this.playPause.on("click",function(i){i.preventDefault(),t.isPlaying===!1?(s(this).removeClass("isPaused").addClass("isPlaying"),t.song.play(),t.isPlaying=!0):(s(this).removeClass("isPlaying").addClass("isPaused"),t.song.pause(),t.isPlaying=!1)}),this.muteUnmute.on("click",function(i){i.preventDefault(),t.isMuted===!1?(t.song.volume=0,s(this).removeClass("isUnmuted").addClass("isMuted"),t.isMuted=!0):(t.song.volume=1,s(this).removeClass("isMuted").addClass("isUnmuted"),t.isMuted=!1)}),this.song.addEventListener("timeupdate",function(){var i=parseInt(t.song.currentTime,10);s(t.scrobbler).val(i)}),this.scrobbler.bind("change",function(){t.song.currentTime=s(this).val(),t.scrobbler.attr("max",t.song.duration)}),this.volume.bind("change",function(){t.song.volume=.1*s(this).val()}),this}}(jQuery);